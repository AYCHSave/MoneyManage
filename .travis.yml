language: java

sudo: false

install: true
install: gradle assemble

addons:
  sonarcloud:
    organization: "daniel194-github"
    token:
      secure: "ArNRO4OK9DIoy35hU04MQM8R+u78fAnNY0DfsQipQOVrPjcG3QnMcwtZ16+ueh3FjRl0ZfZjOhMLsWf6cvnHdqhnSKJBQyn4dIHmRXeDNEx2WRzUr30JJdwjwVfn7ph5hBZPoaXvAoatUsOmZEl6+mR4VCC8RWXeD3grUPcHDxGqrnWil3YMkQ9iil8jOBoKX7GXOpce4zgqsAwxRuLffGeAdbkDnHcRZGDjIgPcwKx5Yot6ouJYVfAHyFA91fQ33W4w0PVtgl+4vDzBtAmREz1oKAxBGb/RLZS5Xl/gY2r/Ia2wKf5N6cSycUapZtwyOfIYRbRjgcAUeYYlPhl2JG9zBbLSmwbWRZpMqZ8UNUfCuEbUzjcXYaebdOfVBFnug168zydwQeoNx3YS7gg6ZFbWZZNSR4Z4+0uq3KwuOmoGi/Azlsd+kM60XuXBsHYD4k9uOmdVyCK+G7Cc8I0XltzfI6k1O08WjROGgiv90EO/8m/aSYSIyM0fr9M80avWkd/CvM9Iulz/KeOyxStWwZpGSTHlnlTC9DBqOhw08f5UqzBQNaeW2F6dGfOHUl0rn0/8SnimC0qGsQkzwG+ZU0LahHj9N2waW+w61NwDVAkdYXsiXWzelThUqScIMFbIuBEsMKlgRSpMOk728CcWKf3sMawcjDUB27BarMAzr+4="

jdk:
  - oraclejdk8

script:
  - gradle check
  - gradle sonarqube

before_cache:
  - rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
  - rm -fr $HOME/.gradle/caches/*/plugin-resolution/

cache:
  directories:
    - $HOME/.gradle/caches/
    - $HOME/.gradle/wrapper/
    - $HOME/.m2/repository
    - $HOME/.sonar/cache
    - $HOME/.gradle
    - .gradle
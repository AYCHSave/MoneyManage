language: java

sudo: false

install: true
install: gradle assemble

addons:
  sonarcloud:
    organization: "daniel194-github"
    token:
      secure: "wPNAV1N39I+jreXmg2t2w8fYe/YeCtyWvw6zfEgJ4fPl0IyDpZ4+/ZUewk4l0BUsCX3GmiJE4x1SOYVfOBfdS07QkxD8LJjgBFz+VmSEmSE04SantD/ixUueKOm1Pff/skiD8kc+OoQlPa28/aepLCKyHJMIod/nMAc97U75armBODLp51TNtTjoXyK8avQtREmnJfmiZlhVtIpgb2Y6/S72B0UeYSSS9R+KOSz+mBAB+F921U65o+hHpCC8WtMfAJ/tcxNe0W/TyCkTrmqM6Aflda6cYBS0vddVjyfmIbI/cUawvRKn38CH4/eB0UaKBQj4UzOaD6XHjX4Y0Q3RnygI21DzoWFjcZDkwAvekYkS6z0eBO+jhR+/DqKGcd1HjJnMcxcXENJ1L8uvPqA1u1orLA85fQFsLyvPb/j+YUXhzd1mMHuXFLPFp7nQhHwnM/CUjBtJz0X4PVkU8QxPWMPWgftRYxDRMZ9X2EktcvIfsQNz5VcI5W9ahGZVrhceXDwSAw5YDDAtNbVK6jRFDQZmRnZC2cCAKCB+Fc6dPVblojTfnua4EmugtBW+T+StfZx6ue4CQ9X+HNIYqTDr7EqcezZCf4FvDM8a4TOwx1PWeUiNFUwC1c8Q3n7Y55WvJtGsIbK7pxgQJXlHpKzFnmY9axzT9AK+BQJuyRnPWVA="

jdk:
  - oraclejdk8

script:
  - gradle check
  - gradle sonarqube

before_cache:
  - rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
  - rm -fr $HOME/.gradle/caches/*/plugin-resolution/

cache:
  directories:
    - $HOME/.gradle/caches/
    - $HOME/.gradle/wrapper/
    - $HOME/.m2/repository
    - $HOME/.sonar/cache
    - $HOME/.gradle
    - .gradle
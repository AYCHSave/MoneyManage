language: java

sudo: false

install: true
install: gradle assemble

addons:
  sonarcloud:
    organization: "daniel194-github"
    token:
      secure: "hgA3YbiZNH+xDz4xWg5zmdusQC5gW0eWsaooIl6yPa8mXGtCm2VzvVApg3OX9cgTK+WrOGG5gFe1o5naINJfRr8ctHFJcDUxW7lWe9weDFCdrNKPYTiz3vsSQUMEXkpV5uElf17TVCbdt0keFY9Z76EkdM7bjd43Bps1TW+q4x/MJ9DaKf28WHUdYYDNoCuC/Cb9eKJPBTVPSgSIyyPMyaAU848mu/y5+cpDELY59w4o0GcLs7BRY9p8xXH+aO7RYx20dx+SuS2bSGYJNkYC25G5yQt4QA4Q0/5wayuzPCP1y3oRI28V+sF/lFxX/DZnPr8uzHwyZBl93dD3PsZt0MhZ/12UouGULMbOL4VgKBMFln1f5YHzpWsVSSZfEq/qBGVY4EcHPp5kF3tq49gf1lSflxCQdgAfFl9fhc/2OuohhpUkRsTB5ySl0Jhezm2Qs6YyhmYxcenlD0KNsJynaQ8mWnaZUfmJxf6gG5NC7zdKCAr4xeO3L/dOs1nYxreq7QALgrunTGEL6ab3B9wna11GpRNH161NnkANBS6yW21F/vIgkeh//134REDc3tx9sBFdbGMm0Oj7fGRe92alVQNQIfuZHyR5A7v8tb2xtAUCvblgZcmn9QSKEqgTMNvyyw6vdyxkI567xOf4cBxvbVuFFUBlr253ZcO2WMKC1+Q="

jdk:
  - oraclejdk8

script:
  - gradle check
  - gradle sonarqube

before_cache:
  - rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
  - rm -fr $HOME/.gradle/caches/*/plugin-resolution/

cache:
  directories:
    - $HOME/.gradle/caches/
    - $HOME/.gradle/wrapper/
    - $HOME/.m2/repository
    - $HOME/.sonar/cache
    - $HOME/.gradle
    - .gradle